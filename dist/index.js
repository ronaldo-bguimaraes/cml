(()=>{"use strict";var E;!function(E){E[E.DOCTYPE=0]="DOCTYPE",E[E.CHILDREN=1]="CHILDREN",E[E.ATTRIBUTE=2]="ATTRIBUTE",E[E.EQUAL=3]="EQUAL",E[E.VALUE=4]="VALUE",E[E.OPEN_BRACE=5]="OPEN_BRACE"}(E||(E={})),new Map,new DOMParser})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJtYXBwaW5ncyI6Im1CQUVBLElBQUtBLEdBQUwsU0FBS0EsR0FBUSx5QkFBUywyQkFBVSw2QkFBVyxxQkFBTyxxQkFBTywrQkFBekQsQ0FBS0EsSUFBQUEsRUFBSyxLQ0VvQyxJQUFJQyxJQ2dCbkMsSUFBSUMsVyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9wYXJzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FuYWx5emVyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFWEFDVCB9IGZyb20gXCIuL3NjYW5uZXJcIjtcclxuXHJcbmVudW0gQVdBSVQgeyBET0NUWVBFLCBDSElMRFJFTiwgQVRUUklCVVRFLCBFUVVBTCwgVkFMVUUsIE9QRU5fQlJBQ0UgfTtcclxuXHJcbmNsYXNzIFZpcnR1YWxOb2RlIHtcclxuXHJcbiAgcHVibGljIG5hbWU6IHN0cmluZztcclxuXHJcbiAgcHVibGljIGF0dHJpYnV0ZXM6IE1hcDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD4gPSBuZXcgTWFwKCk7XHJcblxyXG4gIHB1YmxpYyBjaGlsZHJlbjogKFZpcnR1YWxOb2RlIHwgc3RyaW5nKVtdID0gW107XHJcblxyXG4gIHB1YmxpYyBwYXJlbnQ/OiBWaXJ0dWFsTm9kZTtcclxuXHJcbiAgcHVibGljIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZykge1xyXG5cclxuICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFwcGVuZENoaWxkPFQgZXh0ZW5kcyBWaXJ0dWFsTm9kZSB8IHN0cmluZz4oY2hpbGQ6IFQpIHtcclxuXHJcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xyXG5cclxuICAgIGlmIChjaGlsZCBpbnN0YW5jZW9mIFZpcnR1YWxOb2RlKSB7XHJcblxyXG4gICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gY2hpbGQ7XHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGdldCByb290KCk6IFZpcnR1YWxOb2RlIHtcclxuXHJcbiAgICBpZiAodGhpcy5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMucGFyZW50LnJvb3Q7XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVsc2UgcmV0dXJuIHRoaXM7XHJcblxyXG4gIH1cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhcnNlKHRva2VuTGlzdDogc3RyaW5nW10pIHtcclxuXHJcbiAgbGV0IFNUQVRFOiBBV0FJVCA9IEFXQUlULkRPQ1RZUEU7XHJcblxyXG4gIGxldCBkb2N1bWVudCA9IG5ldyBWaXJ0dWFsTm9kZShcImRvY3VtZW50XCIpO1xyXG5cclxuICBsZXQgQVRUUklCVVRFX05BTUUgPSB1bmRlZmluZWQ7XHJcblxyXG4gIGxldCBJR05PUkVfTkVXX2xJTkUgPSBmYWxzZTtcclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlVmlydHVhbE5vZGUobmFtZTogc3RyaW5nKSB7XHJcblxyXG4gICAgY29uc3Qgbm9kZSA9IG5ldyBWaXJ0dWFsTm9kZShuYW1lKTtcclxuXHJcbiAgICBkb2N1bWVudCA9IGRvY3VtZW50LmFwcGVuZENoaWxkKG5vZGUpO1xyXG5cclxuICAgIFNUQVRFID0gQVdBSVQuQVRUUklCVVRFO1xyXG5cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHVwTGV2ZWwoKSB7XHJcblxyXG4gICAgLy8gc29iZSB1bSBuw612ZWxcclxuICAgIGlmIChkb2N1bWVudC5wYXJlbnQgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgZG9jdW1lbnQgPSBkb2N1bWVudC5wYXJlbnQ7XHJcblxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIGZvciAoY29uc3QgdG9rZW4gb2YgdG9rZW5MaXN0KSB7XHJcblxyXG4gICAgaWYgKFNUQVRFID09PSBBV0FJVC5ET0NUWVBFKSB7XHJcblxyXG4gICAgICBpZiAoRVhBQ1QuVEFHLnRlc3QodG9rZW4pKSB7XHJcblxyXG4gICAgICAgIGNyZWF0ZVZpcnR1YWxOb2RlKHRva2VuKTtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSBpZiAoU1RBVEUgPT09IEFXQUlULkNISUxEUkVOKSB7XHJcblxyXG4gICAgICBpZiAoRVhBQ1QuU1RSSU5HLnRlc3QodG9rZW4pKSB7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFwcGVuZENoaWxkKHRva2VuLnNsaWNlKDEsIC0xKSk7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmIChFWEFDVC5LRVlXT1JELnRlc3QodG9rZW4pKSB7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmFwcGVuZENoaWxkKHRva2VuKTtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2UgaWYgKEVYQUNULlRBRy50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICBjcmVhdGVWaXJ0dWFsTm9kZSh0b2tlbik7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmIChFWEFDVC5DTE9TRV9CUkFDRS50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICB1cExldmVsKCk7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVsc2UgaWYgKFNUQVRFID09PSBBV0FJVC5PUEVOX0JSQUNFKSB7XHJcblxyXG4gICAgICBpZiAoRVhBQ1QuT1BFTl9CUkFDRS50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICBTVEFURSA9IEFXQUlULkNISUxEUkVOO1xyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgIHVwTGV2ZWwoKTtcclxuXHJcbiAgICAgICAgaWYgKEVYQUNULktFWVdPUkQudGVzdCh0b2tlbikpIHtcclxuXHJcbiAgICAgICAgICBkb2N1bWVudC5hcHBlbmRDaGlsZCh0b2tlbik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxzZSBpZiAoRVhBQ1QuU1RSSU5HLnRlc3QodG9rZW4pKSB7XHJcblxyXG4gICAgICAgICAgZG9jdW1lbnQuYXBwZW5kQ2hpbGQodG9rZW4uc2xpY2UoMSwgLTEpKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbHNlIGlmIChFWEFDVC5UQUcudGVzdCh0b2tlbikpIHtcclxuXHJcbiAgICAgICAgICBjcmVhdGVWaXJ0dWFsTm9kZSh0b2tlbik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSBpZiAoU1RBVEUgPT09IEFXQUlULkFUVFJJQlVURSkge1xyXG5cclxuICAgICAgaWYgKEVYQUNULldPUkQudGVzdCh0b2tlbikpIHtcclxuXHJcbiAgICAgICAgQVRUUklCVVRFX05BTUUgPSB0b2tlbjtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYXR0cmlidXRlcy5zZXQoQVRUUklCVVRFX05BTUUsIHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgIFNUQVRFID0gQVdBSVQuRVFVQUw7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmIChFWEFDVC5ORVdfTElORS50ZXN0KHRva2VuKSAmJiBJR05PUkVfTkVXX2xJTkUgPT09IGZhbHNlKSB7XHJcblxyXG4gICAgICAgIFNUQVRFID0gQVdBSVQuT1BFTl9CUkFDRTtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2UgaWYgKEVYQUNULk9QRU5fQlJBQ0UudGVzdCh0b2tlbikpIHtcclxuXHJcbiAgICAgICAgU1RBVEUgPSBBV0FJVC5DSElMRFJFTjtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2UgaWYgKEVYQUNULk9QRU5fQlJBQ0tFVC50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICBJR05PUkVfTkVXX2xJTkUgPSB0cnVlO1xyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgZWxzZSBpZiAoRVhBQ1QuQ0xPU0VfQlJBQ0tFVC50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICBJR05PUkVfTkVXX2xJTkUgPSBmYWxzZTtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgZWxzZSBpZiAoU1RBVEUgPT09IEFXQUlULkVRVUFMKSB7XHJcblxyXG4gICAgICBpZiAoRVhBQ1QuRVFVQUwudGVzdCh0b2tlbikpIHtcclxuXHJcbiAgICAgICAgU1RBVEUgPSBBV0FJVC5WQUxVRTtcclxuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGVsc2UgaWYgKEVYQUNULldPUkQudGVzdCh0b2tlbikpIHtcclxuXHJcbiAgICAgICAgQVRUUklCVVRFX05BTUUgPSB0b2tlbjtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYXR0cmlidXRlcy5zZXQoQVRUUklCVVRFX05BTUUsIHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgIFNUQVRFID0gQVdBSVQuRVFVQUw7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmIChFWEFDVC5ORVdfTElORS50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICBTVEFURSA9IEFXQUlULk9QRU5fQlJBQ0U7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGVsc2UgaWYgKFNUQVRFID09PSBBV0FJVC5WQUxVRSkge1xyXG5cclxuICAgICAgaWYgKEVYQUNULlNUUklORy50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICBpZiAoQVRUUklCVVRFX05BTUUgIT09IHVuZGVmaW5lZCkge1xyXG5cclxuICAgICAgICAgIGRvY3VtZW50LmF0dHJpYnV0ZXMuc2V0KEFUVFJJQlVURV9OQU1FLCB0b2tlbik7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgU1RBVEUgPSBBV0FJVC5BVFRSSUJVVEU7XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGlmIChFWEFDVC5ORVdfTElORS50ZXN0KHRva2VuKSkge1xyXG5cclxuICAgICAgICB1cExldmVsKCk7XHJcblxyXG4gICAgICAgIFNUQVRFID0gQVdBSVQuQ0hJTERSRU47XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICB9XHJcblxyXG4gIHJldHVybiBkb2N1bWVudC5yb290O1xyXG5cclxufVxyXG5cclxuZXhwb3J0IHsgcGFyc2UsIFZpcnR1YWxOb2RlIH07IiwiaW1wb3J0IHsgVmlydHVhbE5vZGUgfSBmcm9tIFwiLi9wYXJzZXJcIjtcclxuXHJcbmltcG9ydCB7IEVYQUNUIH0gZnJvbSBcIi4vc2Nhbm5lclwiO1xyXG5cclxuY29uc3QgZGVjbGFyZUxpc3Q6IE1hcDxzdHJpbmcsIFZpcnR1YWxOb2RlPiA9IG5ldyBNYXAoKTtcclxuXHJcbmZ1bmN0aW9uIHJlcGxhY2VDaGlsZHJlbih2aXJ0dWFsTm9kZTogVmlydHVhbE5vZGUsIGNoaWxkcmVuOiAoVmlydHVhbE5vZGUgfCBzdHJpbmcpW10pIHtcclxuXHJcbiAgZm9yIChjb25zdCBjaGlsZCBvZiB2aXJ0dWFsTm9kZS5jaGlsZHJlbikge1xyXG5cclxuICAgIGlmIChjaGlsZCA9PT0gXCIkY2hpbGRyZW5cIikge1xyXG5cclxuICAgICAgY29uc3QgaW5kZXggPSB2aXJ0dWFsTm9kZS5jaGlsZHJlbi5pbmRleE9mKGNoaWxkKTtcclxuXHJcbiAgICAgIHZpcnR1YWxOb2RlLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSwgLi4uY2hpbGRyZW4pO1xyXG5cclxuICAgIH1cclxuXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYW5hbHl6ZSh2aXJ0dWFsTm9kZTogVmlydHVhbE5vZGUsIGRlY2xhcmU/OiBib29sZWFuKTogVmlydHVhbE5vZGUge1xyXG5cclxuICBmb3IgKGNvbnN0IGNoaWxkIG9mIHZpcnR1YWxOb2RlLmNoaWxkcmVuKSB7XHJcblxyXG4gICAgaWYgKGNoaWxkIGluc3RhbmNlb2YgVmlydHVhbE5vZGUpIHtcclxuXHJcbiAgICAgIGlmICgvXihkZWNsYXJlKSQvLnRlc3QoY2hpbGQubmFtZSkpIHtcclxuXHJcbiAgICAgICAgYW5hbHl6ZShjaGlsZCwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHZpcnR1YWxOb2RlLmNoaWxkcmVuID0gdmlydHVhbE5vZGUuY2hpbGRyZW4uZmlsdGVyKGEgPT4gYSAhPT0gY2hpbGQpO1xyXG5cclxuICAgICAgfVxyXG5cclxuICAgICAgZWxzZSBpZiAoRVhBQ1QuTU9EVUxFLnRlc3QoY2hpbGQubmFtZSkpIHtcclxuXHJcbiAgICAgICAgaWYgKGRlY2xhcmUgPT09IHVuZGVmaW5lZCB8fCBkZWNsYXJlID09PSB0cnVlKSB7XHJcblxyXG4gICAgICAgICAgZGVjbGFyZUxpc3Quc2V0KGNoaWxkLm5hbWUsIGNoaWxkKTtcclxuXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICBjb25zdCBvYmplY3QgPSBkZWNsYXJlTGlzdC5nZXQoY2hpbGQubmFtZSk7XHJcblxyXG4gICAgICAgICAgaWYgKG9iamVjdCAhPT0gdW5kZWZpbmVkKSB7XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IG9iamVjdC5jaGlsZHJlblswXTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0ZW1wbGF0ZSBpbnN0YW5jZW9mIFZpcnR1YWxOb2RlKSB7XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gbmV3IFZpcnR1YWxOb2RlKHRlbXBsYXRlLm5hbWUpO1xyXG5cclxuICAgICAgICAgICAgICBmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0ZW1wbGF0ZS5hdHRyaWJ1dGVzKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgY2xvbmUuYXR0cmlidXRlcy5zZXQoYXR0cmlidXRlWzBdLCBhdHRyaWJ1dGVbMV0pO1xyXG5cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGZvciAoY29uc3QgYXR0cmlidXRlIG9mIGNoaWxkLmF0dHJpYnV0ZXMpIHtcclxuXHJcbiAgICAgICAgICAgICAgICBjbG9uZS5hdHRyaWJ1dGVzLnNldChhdHRyaWJ1dGVbMF0sIGF0dHJpYnV0ZVsxXSk7XHJcblxyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0ZW1wbGF0ZS5jaGlsZHJlbikge1xyXG5cclxuICAgICAgICAgICAgICAgIGNsb25lLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xyXG5cclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIGNsb25lLnBhcmVudCA9IGNoaWxkLnBhcmVudDtcclxuXHJcbiAgICAgICAgICAgICAgcmVwbGFjZUNoaWxkcmVuKGNsb25lLCBjaGlsZC5jaGlsZHJlbik7XHJcblxyXG4gICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gdmlydHVhbE5vZGUuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XHJcblxyXG4gICAgICAgICAgICAgIHZpcnR1YWxOb2RlLmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSwgY2xvbmUpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBlbHNlIHRocm93IG5ldyBFcnJvcihgTW9kdWxlICR7Y2hpbGQubmFtZX0gbm90IGZvdW5kIWApO1xyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9XHJcblxyXG4gICAgICBlbHNlIGFuYWx5emUoY2hpbGQsIGZhbHNlKTtcclxuXHJcbiAgICB9XHJcblxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHZpcnR1YWxOb2RlO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IHsgYW5hbHl6ZSB9OyIsImltcG9ydCB7IHNjYW4gfSBmcm9tIFwiLi9zY2FubmVyXCI7XHJcblxyXG5pbXBvcnQgeyBwYXJzZSB9IGZyb20gXCIuL3BhcnNlclwiO1xyXG5cclxuaW1wb3J0IHsgYW5hbHl6ZSB9IGZyb20gXCIuL2FuYWx5emVyXCI7XHJcblxyXG5pbXBvcnQgeyBnZW5lcmF0ZSB9IGZyb20gXCIuL2dlbmVyYXRvclwiO1xyXG5cclxuZnVuY3Rpb24gY21sVG9TdHJpbmcoc3RyaW5nOiBzdHJpbmcpIHtcclxuXHJcbiAgY29uc3Qgc2NhblJlc3VsdCA9IHNjYW4oc3RyaW5nKTtcclxuXHJcbiAgY29uc3QgcGFyc2VSZXN1bHQgPSBwYXJzZShzY2FuUmVzdWx0KTtcclxuXHJcbiAgY29uc3QgYW5hbHl6ZVJlc3VsdCA9IGFuYWx5emUocGFyc2VSZXN1bHQpO1xyXG5cclxuICByZXR1cm4gZ2VuZXJhdGUoYW5hbHl6ZVJlc3VsdCk7XHJcblxyXG59XHJcblxyXG5jb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XHJcblxyXG5mdW5jdGlvbiBjbWxUb0h0bWwoc3RyaW5nOiBzdHJpbmcpIHtcclxuXHJcbiAgY29uc3QgY21sUmVzdWx0ID0gY21sVG9TdHJpbmcoc3RyaW5nKTtcclxuXHJcbiAgcmV0dXJuIHBhcnNlci5wYXJzZUZyb21TdHJpbmcoY21sUmVzdWx0LCBcInRleHQvaHRtbFwiKTtcclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IGNtbFRvU3RyaW5nLCBjbWxUb0h0bWwgfTsiXSwibmFtZXMiOlsiQVdBSVQiLCJNYXAiLCJET01QYXJzZXIiXSwic291cmNlUm9vdCI6IiJ9